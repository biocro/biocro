---
title: "Article Index"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Article Index}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<!-- This R Markdown file exists only for use by pkgdown.  It is
therefor excluded from builds of the BioCro R package.

It serves three purposes:

1. To ensure that "Rnw" vignettes are processed when running pkgdown.
(pkgdown normally ignores Rnw vignettes.)  This is handled by calls to
the compile_rnw_file function in the R code block below.

2. To ensure that a PDF version of the "dynamical_systems.Rmd" is
built.  (pkgdown ignores the output specification in the preamble of
"dynamical_systems.Rmd" that specifies the output type to be a PDF
document and builds an HTML file instead.)  This is handled by the
call to the tools::buildVignette function in the R code block below.

3. Copying files to the pkgdown articles directory that are copied by
default when a pkgdown site is built--namely, the R files and PDF
vignette files generated when processing the Rnw vignettes.  This is
handled by specifying each desired file as the "src" of an HTML
iframe.  (This "works" even when the iframe markup is enclosed in HTML
comment markers.)

4. Creating an index page for all BioCro vignettes (and related R
files).  (The default article index page generated by pkgdown leaves
out the R files and the PDF files.)  This is handled by the Markdown
markup following the R code block. -->


```{r, include = FALSE}


## Make a path that includes where pkgdown installed BioCro:

rpath <- paste(.libPaths(), collapse = ':')



## Nonce function for processing all the Rnw files:

compile_rnw_file <- function(rnw_filename) {
    system2('R', args = c('CMD', 'Sweave', rnw_filename),
                 env = c(paste0('R_LIBS=', rpath)) # pass the expanded R
                                                   # path (which includes
                                                   # the location of the
                                                   # just-built BioCro
                                                   # package) in the
                                                   # environment
    )

    tex_filename <- paste0(tools::file_path_sans_ext(rnw_filename), '.tex')

    if (requireNamespace('tinytex', quietly = TRUE)) {

        # If TinyTeX is installed, tinytex::pdflatex will install
        # needed LaTeX packages automatically.

        tinytex::pdflatex(tex_filename)

    } else {

        tools::texi2pdf(tex_filename)

    }
}


compile_rnw_file('a_practical_guide_to_biocro.Rnw')
compile_rnw_file('quantitative_model_comparison.Rnw')
compile_rnw_file('an_introduction_to_biocro.Rnw')

## Build the dynamical_systems.Rmd vignette using the output format
## specified in its preamble (namely, PDF).  (pkgdown builds Rmd
## vignettes automatically.  But it doesn't seem to respect the output
## specification in their preambles and just builds an HTML version
## instead of the PDF version that we want.  So we have to call the
## builder manually to get the PDF version.)
tools::buildVignette('dynamical_systems.Rmd')
```

<!--

<iframe src="a_practical_guide_to_biocro.pdf"/>
<iframe src="quantitative_model_comparison.pdf"/>
<iframe src="a_practical_guide_to_biocro.R"/>
<iframe src="quantitative_model_comparison.R"/>
<iframe src="an_introduction_to_biocro.pdf"/>
<iframe src="dynamical_systems.pdf"/>

(These lines fool pkgdown into copying the PDF and R files to the docs
directory so that the links below work.)

-->

---

## General BioCro Usage

---

### [_A Practical Guide to BioCro_](a_practical_guide_to_biocro.pdf) (PDF)

[R code for _A Practical Guide to BioCro_](a_practical_guide_to_biocro.R)

### [_Quantitative Comparison Between Two Photosynthesis Models_](quantitative_model_comparison.pdf) (PDF)

[R code for _Quantitative Comparison Between Two Photosynthesis Models_](quantitative_model_comparison.R)

### [BioCro II Paper: Section 1.1 Example](BioCro-II_Paper--Section-1.1-example.html) (HTML)

### [BioCro as a Dynamical System](dynamical_systems.pdf) (PDF) <!-- Note that an HTML version is produced but is not quite correct. -->

### [_An Introduction to BioCro for Those Who Want to Add Models_](an_introduction_to_biocro.pdf) (PDF; deprecated)

---

## Crop Growth Modeling Topics

---

### [Avoiding Pitfalls When Using the FvCB Model](avoiding_pitfals_fvcb.html) (HTML)

### [Light Absorption by a Thick Layer](thick_layer_absorption.html) (HTML)

### [Using the Ball-Berry Model](ball_berry_model.html) (HTML)
